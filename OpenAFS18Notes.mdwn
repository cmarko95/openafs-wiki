# Notes related to an OpenAFS 1.8 branch

The current plan is to make a branch for 1.8 off of master in early July 2014.
This will allow all of the improvements and cleanup that have accumulated
on master to be in a stable release series, while letting potentially
destabilizing changes such as rxgk and pthreaded bos land on master to
settle.

A 1.8 release would also bring the possibility of using shared libraries, 
which are now available with the use of libtool.  Currently (on master),
all executable binaries are still linked mostly statically, and most of
the shared libraries that are produced during the build are not installed
to the destination tree.  Exceptions are libafshcrypto.so, libkopenafs.so,
and librokenafs.so.  We could consider installing more shared libraries,
and using dynamic linking for executables, either before or after the
branch point.  Doing so would involve deciding on what sorts of ABI
stability guarantees should be provided.

The remainder of this page has three separate lists, for things to be
done before branching, things to be removed from the 1.8 branch after
it is created, and things to be removed from master after the 1.8 branch
is created.

Things to be done pre-branching:
* Make libtool export symbol lists generated by configure (?)

Things to be removed from 1.8 post-branch:
* `src/rxgk`; it is not going to be usable in 1.8

Things to be removed from master post-branch:
* Several `tfoo` can probably be moved to just `foo`; things like
  `tptserver`, `tvlserver`, `tvolser`, `tsalvaged`.  I'm not sure whether
  `tbudb` and/or `tbutc` are ready.
* push to empty out libutil as much as possible.
* rip out LWP support
* it is tempting to remove kauth, but probably not possible.
