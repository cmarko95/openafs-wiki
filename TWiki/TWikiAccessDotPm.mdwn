# <a name="Package &lt;code&gt;TWiki::Access="></a> Package =TWiki::Access

A singleton object of this class manages the access control database.

<div>
  <ul>
    <li><a href="#Package =TWiki::Access="> Package TWiki::Access</a><ul>
        <li><a href="#ClassMethod <strong>new</strong> ()"> ClassMethod new <tt>()</tt></a></li>
        <li><a href="#ObjectMethod <strong>permissionsSet</strong> ($"> ObjectMethod permissionsSet <tt>($web) -&gt; $boolean</tt></a></li>
        <li><a href="#ObjectMethod <strong>getReason</strong> () -> $"> ObjectMethod getReason <tt>() -&gt; $string</tt></a></li>
        <li><a href="#ObjectMethod *check_AccessPermis"> ObjectMethod checkAccessPermission <tt>($action,$user,$text,$topic,$web) -&gt; $boolean</tt></a></li>
      </ul>
    </li>
  </ul>
</div>

## <a name="ClassMethod &lt;strong&gt;new&lt;/strong&gt; ()"></a> [[ClassMethod]] **new** `()`

Construct a new singleton object to manage the permissions database.

## <a name="ObjectMethod &lt;strong&gt;permissionsSet&lt;/strong&gt; ($"></a> [[ObjectMethod]] **permissionsSet** `($web) -> $boolean`

Are there any security restrictions for this Web (ignoring settings on individual pages).

## <a name="ObjectMethod &lt;strong&gt;getReason&lt;/strong&gt; () - $s"></a> [[ObjectMethod]] **getReason** `() -> $string`

Return a string describing the reason why the last access control failure occurred.

## <a name="ObjectMethod &lt;strong&gt;check_AccessPermis"></a> [[ObjectMethod]] \*checkAccessPermission `($action,$user,$text,$topic,$web) -> $boolean`

Check if user is allowed to access topic

- `$action` - 'VIEW', 'CHANGE', 'CREATE', etc.
- `$user` - User object
- `$text` - If undef or '': Read '$theWebName.$theTopicName' to check permissions
- `$topic` - Topic name to check, e.g. 'SomeTopic' \*undef to check web perms only)
- `$web` - Web, e.g. 'Know'

If the check fails, the reason can be recoveered using getReason.
