# <a name="Package &lt;code&gt;TWiki::UI::Upload="></a> Package =TWiki::UI::Upload

UI delegate for attachment management functions

<div>
  <ul>
    <li><a href="#Package =TWiki::UI::Upload="> Package TWiki::UI::Upload</a><ul>
        <li><a href="#StaticMethod <strong>attach</strong> ($session)"> StaticMethod attach <tt>($session)</tt></a></li>
        <li><a href="#StaticMethod <strong>upload</strong> ($session)"> StaticMethod upload <tt>($session)</tt></a></li>
      </ul>
    </li>
  </ul>
</div>

## <a name="StaticMethod &lt;strong&gt;attach&lt;/strong&gt; ($session)"></a> [[StaticMethod]] **attach** `($session)`

`attach` command handler. This method is designed to be invoked via the `UI::run` method.

Generates a prompt page for adding an attachment.

## <a name="StaticMethod &lt;strong&gt;upload&lt;/strong&gt; ($session)"></a> [[StaticMethod]] **upload** `($session)`

`upload` command handler. This method is designed to be invoked via the `UI::run` method. CGI parameters, passed in $query:

<table border="1" cellpadding="0" cellspacing="0">
  <tr>
    <td><code>hidefile</code></td>
    <td> if defined, will not show file in attachment table </td>
  </tr>
  <tr>
    <td><code>filepath</code></td>
    <td>   </td>
  </tr>
  <tr>
    <td><code>filename</code></td>
    <td>   </td>
  </tr>
  <tr>
    <td><code>filecomment</code></td>
    <td> comment to associate with file in attachment table </td>
  </tr>
  <tr>
    <td><code>createlink</code></td>
    <td> if defined, will create a link to file at end of topic </td>
  </tr>
  <tr>
    <td><code>changeproperties</code></td>
    <td>   </td>
  </tr>
  <tr>
    <td><code>redirectto</code></td>
    <td> URL to redirect to after upload. <code>{AllowRedirectUrl}</code> must be enabled in <code>configure</code>. The parameter value can be a <code>TopicName</code>, a <code>Web.TopicName</code>, or a URL. Redirect to a URL only works if it is enabled in <code>configure</code>. </td>
  </tr>
</table>

Does the work of uploading a file to a topic. Designed to be useable for a crude RPC (it will redirect to the 'view' script unless the 'noredirect' parameter is specified, in which case it will print a message to STDOUT, starting with 'OK' on success and 'ERROR' on failure.
