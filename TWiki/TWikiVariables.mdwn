<div>
  <ul>
    <li><a href="#TWiki Variables"> TWiki Variables</a><ul>
        <li><a href="#Predefined Variables"> Predefined Variables</a></li>
        <li><a href="#Preferences Variables"> Preferences Variables</a></li>
        <li><a href="#Setting Preferences"> Setting Preferences</a></li>
        <li><a href="#Creating Custom Variables"> Creating Custom Variables</a></li>
      </ul>
    </li>
  </ul>
</div>

# <a name="TWiki Variables"></a> TWiki Variables

_Special text strings expand on the fly to display user data or system info_

TWikiVariables are text strings - `%VARIABLE%` - that expand into content whenever a page is rendered for viewing. `VARIABLES` are replaced by data, either user-entered or automatically generated by TWiki (like the date, or the current username). There are predefined variables, and Preference variables that you can configure. You can also define custom variables, with new names and values.

**_Notes:_**

- To leave a variable unexpanded, precede it with an exclamation point, e.g. type `!%TOPIC%` to get %TOPIC%.
- Variables are expanded relative to the topic they are _used_ in, not the topic they are _defined_ in.

## <a name="Predefined Variables"></a> Predefined Variables

Most predefined variables return values that were either set in the <code>**lib/twiki.cfg**</code> file, when TWiki was installed, or taken from server info (like current username, or date and time). Many of the variables let you format the appearance of the display results.

- %T% **Take the time to thoroughly read through ALL preference variables.** If you actively configure your site, review variables periodically. They cover a wide range of functions, and it can be easy to miss the one perfect variable for something you have in mind. For example, see <code>**%INCLUDINGTOPIC%**</code>, <code>**%INCLUDE%**</code>, and the mighty <code>**%SEARCH%**</code>.

This version of TWiki - TWiki-4.1.2, Sat, 03 Mar 2007, build 13046 - expands the following variables (enclosed in <code>**%**</code> percent signs):

**_Note:_** Above text is included from [[TWikiVariablesAtoM]] and [[TWikiVariablesNtoZ]]

<a name="PreferencesVariables"></a>

## <a name="Preferences Variables"></a> Preferences Variables

Additional variables are defined in the preferences topics:

- site-level ( **_SL_** ) in [[TWikiPreferences]]
- web-level ( **_WL_** ) in [[WebPreferences]] of each web
- user level ( **_UL_** ) in individual user topics

<table align="center" border="1" cellpadding="2" cellspacing="0" style="background-color: #f5f5f5">
  <tr>
    <th width="160"> Variable: </th>
    <th> Level: </th>
    <th> What: </th>
    <th>Expands to:</th>
  </tr>
  <tr>
    <td><code>%ALLOWTOPICCHANGE%</code></td>
    <td><strong><em>(any topic)</em></strong></td>
    <td> List of users and groups who are <strong>allowed</strong> to change the current topic. (More in [[Main/TWikiAccessControl]]) </td>
    <td> %ALLOWTOPICCHANGE%  </td>
  </tr>
  <tr>
    <td><code>%ALLOWTOPICRENAME%</code></td>
    <td><strong><em>(any topic)</em></strong></td>
    <td> List of users and groups who are <strong>allowed</strong> to rename the current topic. (More in [[Main/TWikiAccessControl]]) </td>
    <td> %ALLOWTOPICRENAME%  </td>
  </tr>
  <tr>
    <td><code>%ALLOWWEBCHANGE%</code></td>
    <td><strong><em>WL</em></strong></td>
    <td> List of users and groups who are <strong>allowed</strong> to change topics in the %WIKITOOLNAME% web. (More in [[Main/TWikiAccessControl]]) </td>
    <td> %ALLOWWEBCHANGE%  </td>
  </tr>
  <tr>
    <td><code>%ALLOWWEBRENAME%</code></td>
    <td><strong><em>WL</em></strong></td>
    <td> List of users and groups who are <strong>allowed</strong> to rename topics in the %WIKITOOLNAME% web. (More in [[Main/TWikiAccessControl]]) </td>
    <td> %ALLOWWEBRENAME%  </td>
  </tr>
  <tr>
    <td><code>%ATTACHLINKBOX%</code></td>
    <td><strong><em>SL</em></strong> , <strong><em>UL</em></strong></td>
    <td> Default state of the link check box in the attach file page. Check box is initially checked if value is set to <code>CHECKED</code> , unchecked if empty. If checked, a link is created to the attached file at the end of the topic. Value is: <b><code>%ATTACHLINKBOX%</code></b></td>
    <td> %ATTACHLINKBOX%  </td>
  </tr>
  <tr>
    <td><code>%DENYTOPICCHANGE%</code></td>
    <td><strong><em>(any topic)</em></strong></td>
    <td> List of users and groups who are <strong>not allowed</strong> to change the current topic. (More in [[Main/TWikiAccessControl]]) </td>
    <td> %DENYTOPICCHANGE%  </td>
  </tr>
  <tr>
    <td><code>%DENYTOPICRENAME%</code></td>
    <td><strong><em>(any topic)</em></strong></td>
    <td> List of users and groups who are <strong>not allowed</strong> to rename the current topic. (More in [[Main/TWikiAccessControl]]) </td>
    <td> %DENYTOPICRENAME%  </td>
  </tr>
  <tr>
    <td><code>%DENYWEBCHANGE%</code></td>
    <td><strong><em>WL</em></strong></td>
    <td> List of users and groups who are <strong>not allowed</strong> to change topics in the %WIKITOOLNAME% web. (More in [[Main/TWikiAccessControl]]) </td>
    <td> %DENYWEBCHANGE%  </td>
  </tr>
  <tr>
    <td><code>%DENYWEBRENAME%</code></td>
    <td><strong><em>WL</em></strong></td>
    <td> List of users and groups who are <strong>not allowed</strong> to rename topics in the %WIKITOOLNAME% web. (More in [[Main/TWikiAccessControl]]) </td>
    <td> %DENYWEBRENAME%  </td>
  </tr>
  <tr>
    <td><code>%DONTNOTIFYCHECKBOX%</code></td>
    <td><strong><em>SL</em></strong> , <strong><em>UL</em></strong></td>
    <td> Default state of the "Minor Changes, Don't Notify" ([[Main/DontNotify]]) check box in preview. Check box is initially checked if <code>Set DONTNOTIFYCHECKBOX = checked="checked"</code>, or unchecked if empty. Value is: <b><code>%DONTNOTIFYCHECKBOX%</code></b></td>
    <td> %DONTNOTIFYCHECKBOX%  </td>
  </tr>
  <tr>
    <td><code>%EDITBOXHEIGHT%</code></td>
    <td><strong><em>SL</em></strong> , <strong><em>UL</em></strong></td>
    <td> Vertical size of edit box, is <b> <code>%EDITBOXHEIGHT%</code> </b></td>
    <td> %EDITBOXHEIGHT%  </td>
  </tr>
  <tr>
    <td><code>%EDITBOXWIDTH%</code></td>
    <td><strong><em>SL</em></strong> , <strong><em>UL</em></strong></td>
    <td> Horizontal size of edit box, is <b> <code>%EDITBOXWIDTH%</code> </b></td>
    <td> %EDITBOXWIDTH%  </td>
  </tr>
  <tr>
    <td><code>%EDITBOXSTYLE%</code></td>
    <td><strong><em>SL</em></strong> , <strong><em>UL</em></strong></td>
    <td> Style of text edit box. Set to <code>width: 99%</code> for full window width (default; overwrites the EDITBOXWIDTH setting), or <code>width: auto</code> to disable. Value is: <b><code>%EDITBOXSTYLE%</code></b></td>
    <td> %EDITBOXSTYLE%  </td>
  </tr>
  <tr>
    <td><code>%FINALPREFERENCES%</code></td>
    <td><strong><em>SL</em></strong> , <strong><em>WL</em></strong></td>
    <td> List of preferences that are not allowed to be overridden by next level preferences</td>
    <td> %FINALPREFERENCES%  </td>
  </tr>
  <tr>
    <td><code>%HTTP_EQUIV_ON_EDIT%</code></td>
    <td><strong><em>SL</em></strong> , <strong><em>UL</em></strong></td>
    <td> http-equiv meta tags for edit script. </td>
    <td> %HTTP_EQUIV_ON_EDIT%  </td>
  </tr>
  <tr>
    <td><code>%HTTP_EQUIV_ON_PREVIEW%</code></td>
    <td><strong><em>SL</em></strong> , <strong><em>UL</em></strong></td>
    <td> http-equiv meta tags for preview script. </td>
    <td> %HTTP_EQUIV_ON_PREVIEW%  </td>
  </tr>
  <tr>
    <td><code>%HTTP_EQUIV_ON_VIEW%</code></td>
    <td><strong><em>SL</em></strong></td>
    <td> http-equiv meta tags for view, rdiff, attach, search* scripts. </td>
    <td> %HTTP_EQUIV_ON_VIEW%  </td>
  </tr>
  <tr>
    <td><code>%NEWTOPICBGCOLOR%</code></td>
    <td><strong><em>SL</em></strong> , <em>UL</em></td>
    <td> Background color of non existing topic. ( <strong><em>UL</em></strong> needs authentication for topic views ) </td>
    <td> %NEWTOPICBGCOLOR%  </td>
  </tr>
  <tr>
    <td><code>%NEWTOPICFONTCOLOR%</code></td>
    <td><strong><em>SL</em></strong> , <em>UL</em></td>
    <td> Font color of non existing topic. ( <strong><em>UL</em></strong> needs authentication for topic views ) </td>
    <td> %NEWTOPICFONTCOLOR%  </td>
  </tr>
  <tr>
    <td><code>%NOSEARCHALL%</code></td>
    <td><strong><em>WL</em></strong></td>
    <td> Exclude web from a <code>web="all"</code> search (set variable to <code>on</code> for hidden webs) </td>
    <td> %NOSEARCHALL%  </td>
  </tr>
  <tr>
    <td><code>%RELEASEEDITLOCKCHECKBOX%</code></td>
    <td><strong><em>SL</em></strong> , <strong><em>UL</em></strong></td>
    <td> Default state of the "Release edit lock" ([[Main/UnlockTopic]]) check box in preview. Checkbox is initially checked if <code>Set RELEASEEDITLOCKCHECKBOX = checked="checked"</code>, or unchecked if empty. If checked, make sure to click on <u>Edit</u> to do more changes; do <strong>not</strong> go back in your browser to the edit page, or you risk that someone else will edit the topic at the same time! Value is: <b><code>%RELEASEEDITLOCKCHECKBOX%</code></b></td>
    <td> %RELEASEEDITLOCKCHECKBOX%  </td>
  </tr>
  <tr>
    <td><code>%WEBBGCOLOR%</code></td>
    <td><strong><em>WL</em></strong></td>
    <td> Background color of web </td>
    <td> %WEBBGCOLOR%  </td>
  </tr>
  <tr>
    <td><code>%WEBCOPYRIGHT%</code></td>
    <td><strong><em>SL</em></strong> , <strong><em>WL</em></strong></td>
    <td> Copyright notice (bottom right corner of topics) </td>
    <td> %WEBCOPYRIGHT%  </td>
  </tr>
  <tr>
    <td><code>%WEBTOPICLIST%</code></td>
    <td><strong><em>WL</em></strong></td>
    <td> Common links of web (second line of topics) </td>
    <td> %WEBTOPICLIST%  </td>
  </tr>
  <tr>
    <td><code>%WIKIWEBLIST%</code></td>
    <td><strong><em>SL</em></strong></td>
    <td> List of %WIKITOOLNAME% webs (in upper right corner of topics) </td>
    <td> %WIKIWEBLIST%  </td>
  </tr>
  <tr>
    <td><code>%WIKIWEBMASTER%</code></td>
    <td><strong><em>SL</em></strong></td>
    <td> Webmaster email address (sender of email notifications) , is <b></b></td>
    <td>  </td>
  </tr>
</table>

**_Note:_** There are some more useful variables defined in the [[TWikiPreferences]] like `%BR%` for line break, colors like `%RED%` for colored text and small icons like `%H%` for a %H% Help icon.

<a name="SettingPrefs"></a>

## <a name="Setting Preferences"></a> Setting Preferences

- The syntax for Preferences Variables is the same anywhere in TWiki (on its own TWiki bullet line, including nested bullets): <br />[multiple of 3 spaces] \* [space] Set [space] VARIABLENAME [space] = [value]<br />**_Examples:_**
- <code>**Set VARIABLENAME = value**</code>
  - <code>**Set VARIABLENAME = value**</code>

## <a name="Creating Custom Variables"></a> Creating Custom Variables

- You can add your own Preference Variables for us across an entire site or a single web, using the standard [[Preferences syntax|Main/WebHome#SettingPrefs]]. Whatever you include in your Variable will be expanded on display, exactly as if it had been entered directly. You can place formatted text, page links, image paths.

> **Example: Create a custom logo variable the %WEB% web**
>
> <br />
>
> - To place a logo anywhere in a web by typing <code>**%MYLOGO%**</code>, define the Variable on the web's [[WebPreferences]] page, and upload a logo file, ex: `mylogo.gif`. You can upload by [[attaching the file|Main/FileAttachment]] to [[WebPreferences]], or, to avoid clutter, to any other topic in the same web, ex: `LogoTopic`:
>   - <code>**Set MYLOGO = %PUBURL%/TWiki/LogoTopic/mylogo.gif**</code>

-- TWiki:Main.PeterThoeny - 14 Aug 2004 <br /> -- TWiki:Main.MikeMannix - 12 May 2002

Crawford split up this topic into included [[TWikiVariablesAtoM]] and [[TWikiVariablesNtoZ]].

-- [[PeterThoeny]] - 26 Jul 2004
