# <a name="%TOPIC%"></a><a name=" %TOPIC%"></a> %TOPIC%

**This contrib packages in a convenient way the JavaScript library and the CSS file needed to implement Twisty sections.**

TwistyContrib is installed by default in TWiki 4 and used by [[Twisty Plugin|TWiki:Plugins/TwistyPlugin]].

It is recommended to use the TwistyPlugin as it eases the deployment and use of this contrib.

This Contrib should work in all versions of TWiki. It has been tested against [[TWiki 3|TWiki:Codev/CairoRelease]] and [[TWiki 4|TWiki:Codev/DakarRelease]].

<div><span>On this page:</span><ul>
    <li><a href="#Usage examples"> Usage examples</a><ul>
        <li><a href="#Basic Twisty"> Basic Twisty</a></li>
        <li><a href="#Twisty with placeholder text"> Twisty with placeholder text</a></li>
      </ul>
    </li>
    <li><a href="#Twisty made easy"> Twisty made easy</a><ul>
        <li><a href="#You Write"> You Write </a></li>
        <li><a href="#Your Users Write"> Your Users Write</a></li>
        <li><a href="#You See"> You See</a></li>
        <li><a href="#All on, all off"> All on, all off</a></li>
      </ul>
    </li>
    <li><a href="#Settings"> Settings</a></li>
    <li><a href="#Installation Instructions"> Installation Instructions</a></li>
    <li><a href="#Contrib Info"> Contrib Info</a></li>
  </ul>
</div>

## <a name="Usage examples"></a> Usage examples

If the contrib is properly installed (and JavaScript is enabled in your browser) you should see two folding sections below.

### <a name="Basic Twisty"></a> Basic Twisty

    <span id="demo1show" class="twistyTrigger twistyMakeVisible"><button class="twikiButton"> Unfold </button></span>
    <span id="demo1hide" class="twistyTrigger twistyHidden"><button class="twikiButton"> Fold </button></span>
    <span id="demo1toggle" class="twistyContent twistyMakeHidden">
    my twisty content
    </span>

Generates:

<span></span>

<button> Unfold </button>

<span></span>

<button> Fold </button>

<span> my twisty content </span>

### <a name="Twisty with placeholder text"></a> Twisty with placeholder text

    <span id="demo2show" class="twistyTrigger twistyMakeVisible"><a href="#">Expand...</a> <span class="twistyPlaceholder">Hamlet is without question the most famous play in the English language...</span></span>
    <span id="demo2hide" class="twistyTrigger twistyHidden"><a href="#">Collapse...</a></span>
    <span id="demo2toggle" class="twistyContent twistyMakeHidden">
    Hamlet is without question the most famous play in the English language. Probably written in 1601 or 1602, the tragedy is a milestone in Shakespeare's dramatic development.
    </span>

Generates:

<span>[Expand...](#) <span>Hamlet is without question the most famous play in the English language...</span></span> <span>[Collapse...](#)</span> <span> Hamlet is without question the most famous play in the English language. Probably written in 1601 or 1602, the tragedy is a milestone in Shakespeare's dramatic development. </span>

Skins can customize the color of the twisty placeholder by modifiying the `.twistyPlaceholder` style.

## <a name="Twisty made easy"></a> Twisty made easy

Manual written by [[Harald Joerg|TWiki:Main/HaraldJoerg]]. Examples require [[Spreadsheet Plugin|TWiki:Plugins/SpreadsheetPlugin]] to work (installed by default).

> Some of my TWiki users are impressed by the optical effect of what can be done with TWiki:Plugins.TwistyPlugin - and they keep asking me: "How do I do that? I don't understand the documentation, and I don't understand the raw text of your topics!"
>
> They indeed have a point here. The docs aren't easily understood. It isn't easy to pick all the variables needed from a single example, and just copypasting sometimes fails in embarrassing ways if non-unique `id` attributes are present in a topic. Maybe it is easy for a power user, but it surely isn't easy _enough_. There _ought_ to be a way to make it easier.
>
> Well, here you are.
>
> Just set a couple of site preferences, and your users will immediately understand your examples and start writing their own twisties. And what's more: They'll do so in a _consistent_ way, across all your topics in all webs.

### <a name="You Write"></a> You Write

In your Main.TWikiPreferences write:

       * Set FLIP = <span id="twid_%CALC{$SETM(twisty_id, + 1)$GET(twisty_id)}%show" class="twistyTrigger twistyMakeVisible">
           <a href="#">more...</a>
         </span>
         <span id="twid_%CALC{$GET(twisty_id)}%hide" class="twistyTrigger twistyHidden">
           <a href="#">close</a>
         </span>
         <div id="twid_%CALC{$GET(twisty_id)}%toggle" class="twistyContent twistyMakeHidden">
       * Set FLOP = </div>

%T% You can include the text in a verbatim block if you want (like I have done here). Additionally I've added plenty of newlines and spaces to make it readable. This works, and you don't have to care for invalid HTML!

### <a name="Your Users Write"></a> Your Users Write

In any topic, your users can now write things like this:

       * *Brace and parenthesize in K&R style*
         %FLIP%
         When setting out a code block, use the K&R style of bracketing.
         That is, place the opening brace at the end of the construct that controls the block. ...
         %FLOP%
       * *Separate your control keywords from the following opening bracket*
         %FLIP%
         Control structures regulate the dynamic behaviour of a program, so the keywords
         of control structures are the most critical components of a program. ...
         %FLOP%

### <a name="You See"></a> You See

- **Brace and parenthesize in K&amp;R style** %FLIP% When setting out a code block, use the K&amp;R style of bracketing. That is, place the opening brace at the end of the construct that controls the block. ... %FLOP%
- **Separate your control keywords from the following opening bracket** %FLIP% Control structures regulate the dynamic behaviour of a program, so the keywords of control structures are the most critical components of a program. ... %FLOP%

### <a name="All on, all off"></a> All on, all off

You can toggle all Twisties on or off at once by putting a link or button on the page with class `twistyExpandAll` or `twistyCollapseAll`.

    <button class="twistyExpandAll twikiButton">Expand all</button>
    <button class="twistyCollapseAll twikiButton">Collapse all</button>

Creates these controls:

<button>Expand all</button>
<button>Collapse all</button>

When you want to use links, write:

    #VarTOGGLE

    <a href="#TOGGLE" class="twistyExpandAll">Expand all</a>
    <a href="#TOGGLE" class="twistyCollapseAll">Collapse all</a>

<a name="VarTOGGLE"></a>

[Expand all](#TOGGLE) [Collapse all](#TOGGLE)

## <a name="Settings"></a> Settings

- Set SHORTDESCRIPTION = Twisty section javascript library to open/close content dynamically
- Set STUB = TWiki::Contrib::TwistyContrib

## <a name="Installation Instructions"></a> Installation Instructions

- Download the ZIP file from the Plugin web (see below)
- Unzip <code>**%TOPIC%.zip**</code> in your ($TWIKI\_ROOT) directory. Content: <table border="1" cellpadding="0" cellspacing="0">
  <tr>
    <th bgcolor="#99CCCC"><strong> File: </strong></th>
    <th bgcolor="#99CCCC"><strong> Description: </strong></th>
  </tr>
  <tr>
    <td><code><b>data/TWiki/TwistyContrib.txt</b></code></td>
    <td>   </td>
  </tr>
  <tr>
    <td><code><b>lib/TWiki/Contrib/TwistyContrib.pm</b></code></td>
    <td>   </td>
  </tr>
  <tr>
    <td><code><b>pub/TWiki/TwistyContrib/twist.css</b></code></td>
    <td>   </td>
  </tr>
  <tr>
    <td><code><b>pub/TWiki/TwistyContrib/twist.js</b></code></td>
    <td>   </td>
  </tr>
  <tr>
    <td><code><b>pub/TWiki/TwistyContrib/twist.compressed.js</b></code></td>
    <td>   </td>
  </tr>
</table>

- Optionally, run <code>**%TOPIC%\_installer**</code> to automatically check and install other TWiki modules that this module depends on. You can also do this step manually.
- Alternatively, manually make sure the dependencies listed in the table below are resolved. <table border="1">
  <tr>
    <th>Name</th>
    <th>Version</th>
    <th>Description</th>
  </tr>
  <tr>
    <td align="left">TWiki::Plugins::BehaviourContrib</td>
    <td align="left">&gt;=1.000</td>
    <td align="left">Required</td>
  </tr>
</table>

## <a name="Contrib Info"></a> Contrib Info

<table border="1" cellpadding="0" cellspacing="0">
  <tr>
    <td> Authors: </td>
    <td> JavaScript created by TWiki:Main.SamHasler, Contrib packaged by TWiki:Main.RafaelAlvarez </td>
  </tr>
  <tr>
    <td> Copyright ©: </td>
    <td> 2005 Sam Hasler and Rafael Alvarez, 2006 Arthur Clemens </td>
  </tr>
  <tr>
    <td> License: </td>
    <td><a href="http://www.gnu.org/copyleft/gpl.html" target="_top">GPL</a></td>
  </tr>
  <tr>
    <td> Dependencies: </td>
    <td>
      <table border="1">
        <tr>
          <th>Name</th>
          <th>Version</th>
          <th>Description</th>
        </tr>
        <tr>
          <td align="left">TWiki::Plugins::BehaviourContrib</td>
          <td align="left">&gt;=1.000</td>
          <td align="left">Required</td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <td> 25 Oct 2006 </td>
    <td> 1.2 Arthur Clemens - Updated JavaScript to support TwistyPlugin version 1.2 </td>
  </tr>
  <tr>
    <td> 26 Sep 2006 </td>
    <td> 1.010 Arthur Clemens - Complete JavaScript rewrite </td>
  </tr>
  <tr>
    <td> 12 Sep 2005 </td>
    <td> 1.000 First Version </td>
  </tr>
  <tr>
    <td> Home: </td>
    <td><a href="http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%" target="_top">http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%</a></td>
  </tr>
  <tr>
    <td> Feedback: </td>
    <td><a href="http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Dev" target="_top">http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Dev</a></td>
  </tr>
  <tr>
    <td> Appraisal: </td>
    <td><a href="http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Appraisal" target="_top">http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Appraisal</a></td>
  </tr>
</table>

**_Related Topics:_** [[TWikiPreferences]]
