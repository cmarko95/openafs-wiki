# <a name="Interwiki Plugin"></a><a name=" Interwiki Plugin"></a> Interwiki Plugin

The %TOPIC% links <code>**ExternalSite:Page**</code> text to external sites based on aliases defined in the [[InterWikis]] topic. This plugin is inspired by UseMod Wiki's inter-wiki links, <http://www.usemod.com/cgi-bin/wiki.pl?InterWiki>.

<div>
  <ul>
    <li><a href="#Syntax Rules"> Syntax Rules</a></li>
    <li><a href="#%TOPIC% Settings"> %TOPIC% Settings</a></li>
    <li><a href="#Plugin Installation Instructions"> Plugin Installation Instructions</a></li>
    <li><a href="#Plugin Info"> Plugin Info</a></li>
  </ul>
</div>

## <a name="Syntax Rules"></a> Syntax Rules

- Enter <code>**ExternalSite:Page**</code> to create a link that points to the <code>**Page**</code> on the <code>**ExternalSite**</code> server.
- Enter <code>**\[[ExternalSite:Page]\[any label]]**</code> to specify a custom label.
- All <code>**ExternalSite**</code> aliases are defined in the [[InterWikis]] topic.
- Add and edit aliases in [[InterWikis]].
- Each entry must be of format: <br /><code>**| External site alias | URL | Tooltip help text |**</code>.
- Site aliases must start with an upper case letter and may contain alphanumeric letters.
- The URL and Tooltip Text may contain optional <code>**$page**</code> variables; the variable gets expanded to the page name.
- %H% For TWiki sites, both the **web** and the **topic** have to be specified: <code>**TWikisite:Webname/SomePage**</code>
  - TWiki:Plugins/InterwikiPlugin or TWiki:Plugins.InterwikiPlugin

## <a name="%TOPIC% Settings"></a> %TOPIC% Settings

Plugin settings are stored as Preferences variables. To reference a plugin setting write <code>**%&lt;plugin&gt;\_&lt;setting&gt;%**</code>, for example, <code>**%INTERWIKIPLUGIN\_SHORTDESCRIPTION%**</code>

- One-line description, shown in the [[TextFormattingRules]] topic:
  - Set SHORTDESCRIPTION = Link <code>**ExternalSite:Page**</code> text to external sites based on aliases defined in a rules topic

- Link rules topic name: (default is [[InterWikis]])
  - Set RULESTOPIC =

- Inter-link format, with variables: <table border="1" cellpadding="0" cellspacing="0">
  <tr>
    <td> $site </td>
    <td> Site alias </td>
  </tr>
  <tr>
    <td> $page </td>
    <td> Page (part after colon) </td>
  </tr>
  <tr>
    <td> $url </td>
    <td> Site URL (might contain $page) </td>
  </tr>
  <tr>
    <td> $label </td>
    <td> Equal to $site:$page </td>
  </tr>
  <tr>
    <td> $tooltip </td>
    <td> Tooltip message </td>
  </tr>
</table>
  - Set INTERLINKFORMAT = [$label]($url $tooltip)

## <a name="Plugin Installation Instructions"></a> Plugin Installation Instructions

%X% **NOTE:** This Plugin is included in the TWiki distribution package. You do not need to install it unless you want to upgrade to a newer version.

- **Download** the ZIP file from the TWiki:Plugins web (see below)
- **Unzip** <code>**%TOPIC%.zip**</code> in your TWiki installation directory. Content: <table border="1" cellpadding="0" cellspacing="0">
  <tr>
    <th bgcolor="#99CCCC"><strong> File: </strong></th>
    <th bgcolor="#99CCCC"><strong> Description: </strong></th>
  </tr>
  <tr>
    <td><code><b>data/TWiki/%TOPIC%.txt</b></code></td>
    <td> Plugin topic </td>
  </tr>
  <tr>
    <td><code><b>data/TWiki/InterWikis.txt</b></code></td>
    <td> Link rules topic for inter-site links </td>
  </tr>
  <tr>
    <td><code><b>lib/TWiki/Plugins/%TOPIC%.pm</b></code></td>
    <td> Plugin Perl module </td>
  </tr>
</table>
- **Test:** If the Plugin is correctly installed, this Wiki:InterWiki link should point to <http://c2.com/cgi/wiki?InterWiki> topic - try it out.

## <a name="Plugin Info"></a> Plugin Info

<table border="1" cellpadding="0" cellspacing="0">
  <tr>
    <td align="right"> Plugin Author: </td>
    <td> TWiki:Main.AndreaSterbini, TWiki:Main.PeterThoeny </td>
  </tr>
  <tr>
    <td align="right"> Copyright: </td>
    <td> © 2001-2007, Andrea Sterbini, Peter Thoeny (<a href="http://www.twiki.net/" target="_top">TWIKI.NET</a>), [[TWiki/TWikiContributor]]</td>
  </tr>
  <tr>
    <td align="right"> License: </td>
    <td> GPL (<a href="http://www.gnu.org/copyleft/gpl.html" target="_top">GNU General Public License</a>) </td>
  </tr>
  <tr>
    <td align="right"> Plugin Version: </td>
    <td> 16052 (22 Jan 2008) </td>
  </tr>
  <tr>
    <td align="right"> Change History: </td>
    <td>  </td>
  </tr>
  <tr>
    <td align="right"> 25 Nov 2007: </td>
    <td> 15752 - TWikibug:Item5006 - Renamed Bugs rule to TWikibug rule (PTh) </td>
  </tr>
  <tr>
    <td align="right"> 13 Aug 2007: </td>
    <td> 14545 - TWikibug:Item4451 - Added Bugs: rule (TWiki:Main.CrawfordCurrie) </td>
  </tr>
  <tr>
    <td align="right"> 11 Aug 2007: </td>
    <td> 14538 - Fixed broken ISBN link (TWiki:Main.PeterThoeny) </td>
  </tr>
  <tr>
    <td align="right"> 08 Nov 2006: </td>
    <td> 11935 - Added css <code></code> (TWiki:Main.PeterThoeny) </td>
  </tr>
  <tr>
    <td align="right"> 07 Nov 2006: </td>
    <td> 11924 - Added INTERLINKFORMAT; removed redundant SUPPRESSTOOLTIP; allow @ signs in page part of interwiki link; support single digit page part (TWiki:Main.PeterThoeny) </td>
  </tr>
  <tr>
    <td align="right"> 26 Feb 2005: </td>
    <td> 1.008 TWiki:Main.CrawfordCurrie cleaned up code and made Dakar-ready </td>
  </tr>
  <tr>
    <td align="right"> 25 Aug 2004: </td>
    <td> 1.005 TWiki:Main.PeterThoeny updated [[Main/InterWikis]] link rules (no code change) </td>
  </tr>
  <tr>
    <td align="right"> 09 Mar 2004: </td>
    <td> Internal changes: Use only official TWiki::Func Plugin API; for increased speed, moved Interwiki link handling from outsidePREHandler to startRenderingHandler </td>
  </tr>
  <tr>
    <td align="right"> 16 Feb 2004: </td>
    <td> Support <code>[[Site:Page][label]]</code> Interwiki links (PTh); use TWiki::Func interface for I18N regular expressions (Walter Mundt) </td>
  </tr>
  <tr>
    <td align="right"> 18 Jan 2003: </td>
    <td> Allow number sign <code>#</code> in Page name (PTh) </td>
  </tr>
  <tr>
    <td align="right"> 31 Aug 2002: </td>
    <td> Allow percent sign <code>%</code> in page name (PTh) </td>
  </tr>
  <tr>
    <td align="right"> 27 Jul 2001: </td>
    <td> Allow numbers <code>0-9</code> in site name </td>
  </tr>
  <tr>
    <td align="right"> 26 Jul 2001: </td>
    <td> Fixed alternating missed link bug due to greedy $postfixPattern (fix by Richard Donkin) </td>
  </tr>
  <tr>
    <td align="right"> 14 Jul 2001: </td>
    <td> Changed to plug &amp; play </td>
  </tr>
  <tr>
    <td align="right"> 16 Jun 2001: </td>
    <td> Made tooltips optional; prevent <code><b>Module::Sub</b></code> type of link </td>
  </tr>
  <tr>
    <td align="right"> 12 Jun 2001: </td>
    <td> Added optional tool tips (IE only); added the link rules topic name variable; added flexible link patterns; optional <code><b>$page</b></code> in URL </td>
  </tr>
  <tr>
    <td align="right"> 10 Jun 2001: </td>
    <td> Changed rules topic to table-based syntax </td>
  </tr>
  <tr>
    <td align="right"> 20 Feb 2001: </td>
    <td> TWiki:Main.AndreaSterbini, TWiki:Main.PeterThoeny - Initial version </td>
  </tr>
  <tr>
    <td align="right"> CPAN Dependencies: </td>
    <td> none </td>
  </tr>
  <tr>
    <td align="right"> Other Dependencies: </td>
    <td> none </td>
  </tr>
  <tr>
    <td align="right"> Perl Version: </td>
    <td> 5.0 </td>
  </tr>
  <tr>
    <td align="right">[[TWiki:Plugins/Benchmark]]: </td>
    <td>[[TWiki/GoodStyle]] 100%, [[TWiki/FormattedSearch]] 98%, %TOPIC% 98% </td>
  </tr>
  <tr>
    <td align="right"> Plugin Home: </td>
    <td><a href="http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%" target="_top">http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%</a></td>
  </tr>
  <tr>
    <td align="right"> Feedback: </td>
    <td><a href="http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Dev" target="_top">http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Dev</a></td>
  </tr>
  <tr>
    <td align="right"> Appraisal: </td>
    <td><a href="http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Appraisal" target="_top">http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Appraisal</a></td>
  </tr>
</table>

**_Related Topics:_** [[TWikiPlugins]], [[DeveloperDocumentationCategory]], [[AdminDocumentationCategory]], [[TWikiPreferences]], [[InterWikis]]

-- TWiki:Main.PeterThoeny - 25 Nov 2007
