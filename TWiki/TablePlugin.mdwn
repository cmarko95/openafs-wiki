# <a name="Table Plugin"></a> Table Plugin

Gives extra control of table display:

- Allows sorting
- Changing table properties like border width, cell spacing and cell padding
- Changing background color for header cells
- Changing background color for data cells - colors can _alternate_
- Behaviour can be specified for a specific table using %TABLE\{...\}% or with global preferences

## <a name="%TOPIC% Global Settings"></a> %TOPIC% Global Settings

Plugin settings are stored as preferences variables. To reference a plugin setting write <code>**%&lt;plugin&gt;\_&lt;setting&gt;%**</code>, for example, <code>**%INTERWIKIPLUGIN\_SHORTDESCRIPTION%**</code>

- One line description, shown in the [[TextFormattingRules]] topic:
  - Set SHORTDESCRIPTION = Control attributes of tables and sorting of table columns

- Set DEBUG to 1 to get debug messages in `data/debug.txt`. Default: `0`
  - Set DEBUG = 0

- Table border width. Default: 1
  - Set TABLEBORDER = 1

- Table cell padding. Default: 0
  - Set CELLPADDING = 0

- Table cell spacing. Default: 1
  - Set CELLSPACING = 1

- Vertical alignment of cells. Set to: `top`, `middle`, `bottom` or `baseline`; default: (empty)
  - Set VALIGN =

- Table header cell alignment. Set to: `left`, `center`, `right` or `justify`; default: (empty)
  - Set HEADERALIGN =

- Table data cell alignment. Set to: `left`, `center`, `right` or `justify`; default: (empty)
  - Set DATAALIGN =

- Color for header cells ('\*'s around text). Default: <span>\#99CCCC</span>
  - #Set HEADER\_BG = red

- Background color for table rows, two alternate colors. Default: <span>\#FFFFCC</span>,<span>\#FFFFFF</span>
  - Set DATA\_BG = #FFFFCC,#FFFFFF

- Make sortable:
  - #Set SORT = attachments
  - Set SORT = all
  - #Set SORT = none

## <a name="Sorting"></a> Sorting

Click on column heading text to sort by a column. Initial column will be sorted in descending order, click again to get ascending order. The type of data in the cell is determined automatically:

- date if format is:
  - dd MMM YYY - hh:mm
  - dd-MMM-YY or dd-MM-YYYY (can be / or space in place of -)
  - MMM is Jan, Feb, etc
- number is digits, with optional decimal point
- otherwise treated as text

## <a name="Per Table Settings"></a> Per Table Settings

On line before the table use `%TABLE{...}%`:

<table border="1" cellpadding="0" cellspacing="0" style="border-width: 1px">
  <tr>
    <th bgcolor="#6b7f93" maxcols="0" style=""><a href="http://localhost?sortcol=0;table=1;up=0#sorted_table" rel="nofollow" title="Sort by this column"><font color="#ffffff">Argument</font></a></th>
    <th bgcolor="#6b7f93" maxcols="0" style=""><a href="http://localhost?sortcol=1;table=1;up=0#sorted_table" rel="nofollow" title="Sort by this column"><font color="#ffffff">Comment</font></a></th>
    <th bgcolor="#6b7f93" maxcols="0" style=""><a href="http://localhost?sortcol=2;table=1;up=0#sorted_table" rel="nofollow" title="Sort by this column"><font color="#ffffff">Example</font></a></th>
  </tr>
  <tr>
    <td bgcolor="#ecf2f8" style=""><code>sort</code></td>
    <td bgcolor="#ecf2f8" style=""> Set table sorting <code>on</code> or <code>off</code></td>
    <td bgcolor="#ecf2f8" style=""><code>sort="on"</code></td>
  </tr>
  <tr>
    <td bgcolor="#ffffff" style=""><code>initsort</code></td>
    <td bgcolor="#ffffff" style=""> Column to sort initially (1 to number of columns) </td>
    <td bgcolor="#ffffff" style=""><code>initsort="2"</code></td>
  </tr>
  <tr>
    <td bgcolor="#ecf2f8" style=""><code>initdirection</code></td>
    <td bgcolor="#ecf2f8" style=""> Initial sorting direction for <code>initsort</code>, set to <code>up</code> or <code>down</code></td>
    <td bgcolor="#ecf2f8" style=""><code>initsort="down"</code></td>
  </tr>
  <tr>
    <td bgcolor="#ffffff" style=""><code>headerbg</code></td>
    <td bgcolor="#ffffff" style=""> Header cell background colour </td>
    <td bgcolor="#ffffff" style=""><code>headerbg="#99CCCC"</code></td>
  </tr>
  <tr>
    <td bgcolor="#ecf2f8" style=""><code>databg</code></td>
    <td bgcolor="#ecf2f8" style=""> Data cell background colour, a comma separated list. Specify <code>"none"</code> for no colour, that is to use the colour/background of the page the table is on. </td>
    <td bgcolor="#ecf2f8" style=""><code>databg="#C8CB8F,#DBDDB5"</code></td>
  </tr>
  <tr>
    <td bgcolor="#ffffff" style=""><code>tableborder</code></td>
    <td bgcolor="#ffffff" style=""> Table border width (pixels) </td>
    <td bgcolor="#ffffff" style=""><code>tableborder="2"</code></td>
  </tr>
  <tr>
    <td bgcolor="#ecf2f8" style=""><code>cellpadding</code></td>
    <td bgcolor="#ecf2f8" style=""> Cell padding (pixels) </td>
    <td bgcolor="#ecf2f8" style=""><code>cellpadding="0"</code></td>
  </tr>
  <tr>
    <td bgcolor="#ffffff" style=""><code>cellspacing</code></td>
    <td bgcolor="#ffffff" style=""> Cell spacing (pixels) </td>
    <td bgcolor="#ffffff" style=""><code>cellspacing="3"</code></td>
  </tr>
  <tr>
    <td bgcolor="#ecf2f8" style=""><code>valign</code></td>
    <td bgcolor="#ecf2f8" style=""> Vertical alignment of cells, set to <code>top</code>, <code>middle</code>, <code>bottom</code> or <code>baseline</code></td>
    <td bgcolor="#ecf2f8" style=""><code>valign="top"</code></td>
  </tr>
  <tr>
    <td bgcolor="#ffffff" style=""><code>headeralign</code></td>
    <td bgcolor="#ffffff" style=""> Header cell alignment, set to <code>left</code>, <code>center</code>, <code>right</code> or <code>justify</code>. Overrides individual cell settings </td>
    <td bgcolor="#ffffff" style=""><code>headeralign="left"</code></td>
  </tr>
  <tr>
    <td bgcolor="#ecf2f8" style=""><code>dataalign</code></td>
    <td bgcolor="#ecf2f8" style=""> Data cell alignment, set to <code>left</code>, <code>center</code>, <code>right</code> or <code>justify</code>. Overrides individual cell settings </td>
    <td bgcolor="#ecf2f8" style=""><code>dataalign="center"</code></td>
  </tr>
</table>

All default to the global setting

## <a name="Examples"></a> Examples

Line before table: `%TABLE{sort="on" tableborder="0" cellpadding="1" cellspacing="3" headerbg="#99CCCC" databg="#C8CB8F,#DBDDB5"}%`

<table border="0" cellpadding="1" cellspacing="3" style="border-width: 0px">
  <tr>
    <th bgcolor="#99CCCC" maxcols="0" style=""><a href="http://localhost?sortcol=0;table=2;up=0#sorted_table" rel="nofollow" title="Sort by this column"><font color="#ffffff">Num</font></a></th>
    <th bgcolor="#99CCCC" maxcols="0" style=""><a href="http://localhost?sortcol=1;table=2;up=0#sorted_table" rel="nofollow" title="Sort by this column"><font color="#ffffff">Status</font></a></th>
    <th bgcolor="#99CCCC" maxcols="0" style=""><a href="http://localhost?sortcol=2;table=2;up=0#sorted_table" rel="nofollow" title="Sort by this column"><font color="#ffffff">Action</font></a></th>
    <th bgcolor="#99CCCC" maxcols="0" style=""><a href="http://localhost?sortcol=3;table=2;up=0#sorted_table" rel="nofollow" title="Sort by this column"><font color="#ffffff">Who</font></a></th>
    <th bgcolor="#99CCCC" maxcols="0" style=""><a href="http://localhost?sortcol=4;table=2;up=0#sorted_table" rel="nofollow" title="Sort by this column"><font color="#ffffff">When</font></a></th>
    <th bgcolor="#99CCCC" maxcols="0" style=""><a href="http://localhost?sortcol=5;table=2;up=0#sorted_table" rel="nofollow" title="Sort by this column"><font color="#ffffff">Progress</font></a></th>
  </tr>
  <tr>
    <td bgcolor="#C8CB8F" style=""> 1 </td>
    <td bgcolor="#C8CB8F" style=""> C </td>
    <td bgcolor="#C8CB8F" style=""> Chose new colours </td>
    <td bgcolor="#C8CB8F" style=""> John </td>
    <td bgcolor="#C8CB8F" style=""> 1-Dec-02 </td>
    <td bgcolor="#C8CB8F" style="">   </td>
  </tr>
  <tr>
    <td bgcolor="#DBDDB5" style=""> 2 </td>
    <td bgcolor="#DBDDB5" style=""> X </td>
    <td bgcolor="#DBDDB5" style=""> Release </td>
    <td bgcolor="#DBDDB5" style=""> John </td>
    <td bgcolor="#DBDDB5" style=""> 1-Apr-02 </td>
    <td bgcolor="#DBDDB5" style="">   </td>
  </tr>
  <tr>
    <td bgcolor="#C8CB8F" style=""> 3 </td>
    <td bgcolor="#C8CB8F" style="">   </td>
    <td bgcolor="#C8CB8F" style=""> Get feedback </td>
    <td bgcolor="#C8CB8F" style=""> Anne </td>
    <td bgcolor="#C8CB8F" style=""> 1-Feb-02 </td>
    <td bgcolor="#C8CB8F" style="">   </td>
  </tr>
  <tr>
    <td bgcolor="#DBDDB5" style=""> 12 </td>
    <td bgcolor="#DBDDB5" style=""> C </td>
    <td bgcolor="#DBDDB5" style=""> Spec error handling </td>
    <td bgcolor="#DBDDB5" style=""> Jack </td>
    <td bgcolor="#DBDDB5" style=""> 1-Dec-02 </td>
    <td bgcolor="#DBDDB5" style="">   </td>
  </tr>
  <tr>
    <td bgcolor="#C8CB8F" style=""> 5 </td>
    <td bgcolor="#C8CB8F" style="">   </td>
    <td bgcolor="#C8CB8F" style=""> Abc </td>
    <td bgcolor="#C8CB8F" style=""> John </td>
    <td bgcolor="#C8CB8F" style="">   </td>
    <td bgcolor="#C8CB8F" style="">   </td>
  </tr>
</table>

## <a name="Plugin Installation Instructions"></a> Plugin Installation Instructions

**Note:** You do not need to install anything on the browser to use this plugin. Below installation instructions are for the administrator who needs to install this plugin on the TWiki server.

- Download the ZIP file from the Plugin web (see below)
- Unzip <code>**%TOPIC%.zip**</code> in your twiki installation directory. Content: <table border="1" cellpadding="0" cellspacing="0" style="border-width: 1px">
  <tr>
    <th bgcolor="#6b7f93" maxcols="0" style=""><a href="http://localhost?sortcol=0;table=3;up=0#sorted_table" rel="nofollow" title="Sort by this column"><font color="#ffffff">File:</font></a></th>
    <th bgcolor="#6b7f93" maxcols="0" style=""><a href="http://localhost?sortcol=1;table=3;up=0#sorted_table" rel="nofollow" title="Sort by this column"><font color="#ffffff">Description:</font></a></th>
  </tr>
  <tr>
    <td bgcolor="#ecf2f8" style=""><code><b>data/TWiki/%TOPIC%.txt</b></code></td>
    <td bgcolor="#ecf2f8" style=""> Plugin topic </td>
  </tr>
  <tr>
    <td bgcolor="#ffffff" style=""><code><b>data/TWiki/%TOPIC%.txt,v</b></code></td>
    <td bgcolor="#ffffff" style=""> Plugin topic repository </td>
  </tr>
  <tr>
    <td bgcolor="#ecf2f8" style=""><code><b>lib/TWiki/Plugins/%TOPIC%.pm</b></code></td>
    <td bgcolor="#ecf2f8" style=""> Plugin Perl module </td>
  </tr>
  <tr>
    <td bgcolor="#ffffff" style=""><code><b>pub/TWiki/%TOPIC%/diamond.gif</b></code></td>
    <td bgcolor="#ffffff" style=""> Diamond symbol </td>
  </tr>
  <tr>
    <td bgcolor="#ecf2f8" style=""><code><b>pub/TWiki/%TOPIC%/down.gif</b></code></td>
    <td bgcolor="#ecf2f8" style=""> Down arrow </td>
  </tr>
  <tr>
    <td bgcolor="#ffffff" style=""><code><b>pub/TWiki/%TOPIC%/up.gif</b></code></td>
    <td bgcolor="#ffffff" style=""> Up arrow </td>
  </tr>
</table>
- Test if the plugin is correctly installed:
  - Check above example if the table renders as expected
  - Try click on heading to sort. Other tables should also be sortable

## <a name="Plugin Info"></a> Plugin Info

<table border="1" cellpadding="0" cellspacing="0" style="border-width: 1px">
  <tr>
    <td align="right" bgcolor="#ecf2f8" style=""> Plugin Author: </td>
    <td bgcolor="#ecf2f8" style="">[[TWiki/JohnTalintyre]], [[TWiki/PeterThoeny]]</td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ffffff" style=""> Plugin Version: </td>
    <td bgcolor="#ffffff" style=""> 13 Mar 2002 </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ecf2f8" style=""> Change History: </td>
    <td bgcolor="#ecf2f8" style="">  </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ffffff" style=""> 05 Jun 2002: </td>
    <td bgcolor="#ffffff" style=""> PTh: Added "none" value to databg parameter (suggested by TWiki:Main/TaitCyrus); fixed sorting by stripping HTML tags, removing links and making sort ignore case (suggested by TWiki:Main/ShawnBradford) </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ecf2f8" style=""> 13 Mar 2002: </td>
    <td bgcolor="#ecf2f8" style=""> PTh: Added TWiki:Main/ShawnBradford 's initsort and initdirection </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ffffff" style=""> 12 Mar 2002: </td>
    <td bgcolor="#ffffff" style=""> PTh: Added valign, headeralign and dataalign; fixed bug of swapped cellpadding/cellspacing; fixed warning of uninitialized value </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ecf2f8" style=""> 05 Jan 2002: </td>
    <td bgcolor="#ecf2f8" style=""> PTh: Fixed sorting bug of cells with leading white space </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ffffff" style=""> 06 Dec 2001: </td>
    <td bgcolor="#ffffff" style=""> PTh: Fixed date sorting bug <br /> 03 Dec 2001 PTh: Fixed sort="off" bug and more </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ecf2f8" style=""> 29 Nov 2001: </td>
    <td bgcolor="#ecf2f8" style=""> PTh: Fixed Perl warnings </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ffffff" style=""> 16 Nov 2001: </td>
    <td bgcolor="#ffffff" style=""> PTh: Added table border, cell spacing, cell padding, gif files </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ecf2f8" style=""> 07 Oct 2001: </td>
    <td bgcolor="#ecf2f8" style=""> JT: Initial version </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ffffff" style=""> CPAN Dependencies: </td>
    <td bgcolor="#ffffff" style=""> none </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ecf2f8" style=""> Other Dependencies: </td>
    <td bgcolor="#ecf2f8" style=""> none </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ffffff" style=""> Perl Version: </td>
    <td bgcolor="#ffffff" style=""> 5.0 </td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ecf2f8" style=""> Plugin Home: </td>
    <td bgcolor="#ecf2f8" style=""><a href="http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%" target="_top">http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%</a></td>
  </tr>
  <tr>
    <td align="right" bgcolor="#ffffff" style=""> Feedback: </td>
    <td bgcolor="#ffffff" style=""><a href="http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Dev" target="_top">http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Dev</a></td>
  </tr>
</table>

**_Related Topics:_** [[TWikiPreferences]], [[TWikiPlugins]]

-- [[JohnTalintyre]] - 07 Oct 2001 <br /> -- [[PeterThoeny]] - 05 Jun 2002 <br />
