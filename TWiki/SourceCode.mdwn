# <a name="TWiki Source Code Packages"></a><a name=" TWiki Source Code Packages"></a> TWiki Source Code Packages

%X% This documentation is automatically generated from the `pod`, so it always matches the running code

<div>
  <ul>
    <li><a href="#TWiki::_AccessControlException"> TWiki::AccessControlException </a></li>
    <li><a href="#TWiki::Access"> TWiki::Access </a></li>
    <li><a href="#TWiki::Attach"> TWiki::Attach </a></li>
    <li><a href="#TWiki::Attrs"> TWiki::Attrs </a></li>
    <li><a href="#TWiki::Client::_ApacheLogin"> TWiki::Client::ApacheLogin </a></li>
    <li><a href="#TWiki::Client"> TWiki::Client </a></li>
    <li><a href="#ObjectData =twiki="> ObjectData twiki</a></li>
    <li><a href="#TWiki::Client::_TemplateLogin"> TWiki::Client::TemplateLogin </a></li>
    <li><a href="#TWiki::Compatibility"> TWiki::Compatibility </a></li>
    <li><a href="#TWiki::Configure::Load"> TWiki::Configure::Load </a></li>
    <li><a href="#Purpose"> Purpose</a></li>
    <li><a href="#"> </a></li>
    <li><a href="#TWiki"> TWiki </a></li>
    <li><a href="#TWiki::Form"> TWiki::Form </a></li>
    <li><a href="#TWiki::Func"> TWiki::Func </a></li>
    <li><a href="#TWiki::_I18N"> TWiki::I18N </a></li>
    <li><a href="#TWiki::_I18N::Extract"> TWiki::I18N::Extract </a></li>
    <li><a href="#TWiki::If"> TWiki::If </a></li>
    <li><a href="#TWiki::Merge"> TWiki::Merge </a></li>
    <li><a href="#TWiki::Meta"> TWiki::Meta </a></li>
    <li><a href="#TWiki::Net"> TWiki::Net </a></li>
    <li><a href="#TWiki::_OopsException"> TWiki::OopsException </a></li>
    <li><a href="#"> </a></li>
    <li><a href="#TWiki::Plugins"> TWiki::Plugins </a></li>
    <li><a href="#TWiki::Plurals"> TWiki::Plurals </a></li>
    <li><a href="#TWiki::Prefs"> TWiki::Prefs </a></li>
    <li><a href="#TWiki::Prefs::Parser"> TWiki::Prefs::Parser </a></li>
    <li><a href="#TWiki::Prefs::_PrefsCache"> TWiki::Prefs::PrefsCache </a></li>
    <li><a href="#TWiki::Render"> TWiki::Render </a></li>
    <li><a href="#TWiki::Sandbox"> TWiki::Sandbox </a></li>
    <li><a href="#TWiki::Search"> TWiki::Search </a></li>
    <li><a href="#TWiki::Store"> TWiki::Store </a></li>
    <li><a href="#TWiki::Store::_RcsFile"> TWiki::Store::RcsFile </a></li>
    <li><a href="#TWiki::Store::_RcsLite"> TWiki::Store::RcsLite </a></li>
    <li><a href="#File format"> File format</a></li>
    <li><a href="#TWiki::Store::_RcsWrap"> TWiki::Store::RcsWrap </a></li>
    <li><a href="#TWiki::Templates"> TWiki::Templates </a></li>
    <li><a href="#TWiki::Time"> TWiki::Time </a></li>
    <li><a href="#TWiki::UI::_ChangeForm"> TWiki::UI::ChangeForm </a></li>
    <li><a href="#TWiki::UI"> TWiki::UI </a></li>
    <li><a href="#TWiki::UI::Edit"> TWiki::UI::Edit </a></li>
    <li><a href="#TWiki::UI::Manage"> TWiki::UI::Manage </a></li>
    <li><a href="#TWiki::UI::Oops"> TWiki::UI::Oops </a></li>
    <li><a href="#TWiki::UI::RDiff"> TWiki::UI::RDiff </a></li>
    <li><a href="#TWiki::UI::Register"> TWiki::UI::Register </a></li>
    <li><a href="#TWiki::UI::Save"> TWiki::UI::Save </a></li>
    <li><a href="#TWiki::UI::Search"> TWiki::UI::Search </a></li>
    <li><a href="#TWiki::UI::Statistics"> TWiki::UI::Statistics </a></li>
    <li><a href="#TWiki::UI::Upload"> TWiki::UI::Upload </a></li>
    <li><a href="#TWiki::UI::View"> TWiki::UI::View </a></li>
    <li><a href="#TWiki::User"> TWiki::User </a></li>
    <li><a href="#TWiki::Users::_ApacheHtpasswdUse"> TWiki::Users::ApacheHtpasswdUser </a></li>
    <li><a href="#TWiki::Users"> TWiki::Users </a></li>
    <li><a href="#TWiki::Users::Password"> TWiki::Users::Password </a></li>
    <li><a href="#TWiki::Users::_TWikiUserMapping"> TWiki::Users::TWikiUserMapping </a></li>
  </ul>
</div>

## <a name="TWiki::_AccessControlException"></a> [[TWiki::AccessControlException|Main/TWikiAccessControlExceptionDotPm]]

Exception used raise an access control violation.

This package doesn't smell

## <a name="TWiki::Access"></a> [[TWiki::Access|Main/TWikiAccessDotPm]]

A singleton object of this class manages the access control database.

This package doesn't smell

## <a name="TWiki::Attach"></a> [[TWiki::Attach|Main/TWikiAttachDotPm]]

A singleton object of this class is used to deal with attachments to topics.

This package has smell factor of **1**

## <a name="TWiki::Attrs"></a> [[TWiki::Attrs|Main/TWikiAttrsDotPm]]

Class of attribute sets, designed for parsing and storing attribute values from a TWiki tag e.g. `%TAG{fred='bad' "sad" joe="mad"}%`

An attribute set is a map containing an entry for each parameter. The default parameter (unnamed quoted string) is named `_DEFAULT` in the map.

Attributes declared later in the string will override those of the same name defined earlier. The one exception to this is the \_DEFAULT key, where the _first_ instance of a setting is always taken.

As well as standard TWiki syntax (parameter values double-quoted) it also parses single-quoted values, unquoted spaceless values, spaces around the =, and commas as well as spaces separating values, though none of these alternatives is advertised in documentation and the extended syntax can be turned off by passing the 'strict' parameter to `new`.

This class replaces the old TWiki::extractNameValuePair and TWiki::extractParameters.

This package doesn't smell

## <a name="TWiki::Client::_ApacheLogin"></a> [[TWiki::Client::ApacheLogin|Main/TWikiClientApacheLoginDotPm]]

This is login manager that you can specify in the security setup section of [configure](http://www.dementia.org/twiki/configure). It instructs TWiki to cooperate with your web server (typically Apache) to require authentication information (username &amp; password) from users. It requires that you configure your web server to demand authentication for scripts named "login" and anything ending in "auth". The latter should be symlinks to existing scripts; e.g., `viewauth -> view`, `editauth -> edit`, and so on.

See also [[TWikiUserAuthentication]].

Subclass of TWiki::Client; see that class for documentation of the methods of this class.

This package doesn't smell

## <a name="TWiki::Client"></a> [[TWiki::Client|Main/TWikiClientDotPm]]

The package is also a Factory for login managers and also the base class for all login managers.

On it's own, an object of this class is used when you specify 'none' in the security setup section of [configure](http://www.dementia.org/twiki/configure). When it is used, logins are not supported. If you want to authenticate users then you should consider [[TemplateLogin]] or [[ApacheLogin]], which are subclasses of this class.

If you are building a new login manager, then you should write a new subclass of this class, implementing the methods marked as **VIRTUAL**. There are already examples in the `lib/TWiki/Client` directory.

The class has extensive tracing, which is enabled by $TWiki::cfg\{Trace\}\{Client.pm\}. The tracing is done in such a way as to let the perl optimiser optimise out the trace function as a no-op if tracing is disabled.

Here's an overview of how it works:

Early in TWiki::new, the login manager is created. The creation of the login manager does two things:

1. If sessions are in use, it loads CGI::Session but doesn't initialise the session yet.
2. Creates the login manager object

Slightly later in TWiki::new, loginManager-&gt;loadSession is called.

1. Calls loginManager-&gt;getUser to get the username **before** the session is created
  - TWiki::Client::ApacheLogin looks at REMOTE\_USER
  - TWiki::Client::TemplateLogin just returns undef
2. reads the TWIKISID cookie to get the SID (or the TWIKISID parameters in the CGI query if cookies aren't available, or [[IP2SID]] mapping if that's enabled).
3. Creates the CGI::Session object, and the session is thereby read.
4. If the username still isn't known, reads it from the cookie. Thus TWiki::Client::ApacheLogin overrides the cookie using REMOTE\_USER, and TWiki::Client::TemplateLogin **always** uses the session.

Later again in TWiki::new, plugins are given a chance to **override** the username found from the loginManager.

The last step in TWiki::new is to find the user, using whatever user mapping manager is in place.

## <a name="ObjectData &lt;code&gt;twiki="></a> [[ObjectData]] =twiki

The TWiki object this login manager is attached to.

This package has smell factor of **2**

## <a name="TWiki::Client::_TemplateLogin"></a> [[TWiki::Client::TemplateLogin|Main/TWikiClientTemplateLoginDotPm]]

This is a login manager that you can specify in the security setup section of [configure](http://www.dementia.org/twiki/configure). It provides users with a template-based form to enter usernames and passwords, and works with the [[PasswordManager]] that you specify to verify those passwords.

Subclass of TWiki::Client; see that class for documentation of the methods of this class.

This package has smell factor of **1**

## <a name="TWiki::Compatibility"></a> [[TWiki::Compatibility|Main/TWikiCompatibilityDotPm]]

Support for compatibility with old TWiki versions. Packaged separately because 99.999999% of the time this won't be needed.

This package has smell factor of **2**

## <a name="TWiki::Configure::Load"></a> [[TWiki::Configure::Load|Main/TWikiConfigureLoadDotPm]]

## <a name="Purpose"></a> Purpose

This module consists of just a single subroutine `readConfig`. It allows to safely modify configuration variables _for one single run_ without affecting normal TWiki operation.

This package doesn't smell

## <> \[[TWikiConfigureUIsEXTENDDotPm]\[]]

This package has smell factor of **1**

## <a name="TWiki"></a> [[TWiki|Main/TWikiDotPm]]

TWiki operates by creating a singleton object (known as the Session object) that acts as a point of reference for all the different modules in the system. This package is the class for this singleton, and also contains the vast bulk of the basic constants and the per- site configuration mechanisms.

Global variables are avoided wherever possible to avoid problems with CGI accelerators such as mod\_perl.

This package has smell factor of **25**

## <a name="TWiki::Form"></a> [[TWiki::Form|Main/TWikiFormDotPm]]

Object representing a single form definition.

This package has smell factor of **9**

## <a name="TWiki::Func"></a> [[TWiki::Func|Main/TWikiFuncDotPm]]

_Official list of stable TWiki functions for Plugin developers_

This module defines official functions that [[Plugins|TWiki/TWikiPlugins]] can use to interact with the TWiki engine and content.

Refer to [[EmptyPlugin]] and lib/TWiki/Plugins/EmptyPlugin.pm for a template Plugin and documentation on how to write a Plugin.

Plugins should **only** use functions published in this module. If you use functions in other TWiki libraries you might create a security hole and you will probably need to change your Plugin when you upgrade TWiki.

Deprecated functions will still work in older code, though they should _not_ be called in new Plugins and should be replaced in older Plugins as soon as possible.

The version of the TWiki::Func module is defined by the VERSION number of the TWiki::Plugins module, currently 1.11. This can be shown by the `%PLUGINVERSION%` variable. The 'Since' field in the function documentation refers to the VERSION number and the date that the function was addded.

**_Note:_** Beware! These methods should only ever be called from the context of a TWiki Plugin. They require a Plugins SESSION context to be established before they are called, and will not work if simply called from another TWiki module. For example,

    use TWiki;
    print TWiki::Func::getSkin(),"\n";

will fail with `Can't call method "getSkin" on an undefined value at TWiki/Func.pm line 83`.

If you want to call the methods outside the context of a plugin, you can create a Plugins SESSION object. For example, the script:

    use TWiki:
    $TWiki::Plugins::SESSION = new TWiki();
    print TWiki::Func::getSkin(),"\n";

will work happily.

This package has smell factor of **1**

## <a name="TWiki::_I18N"></a> [[TWiki::I18N|Main/TWikiI18NDotPm]]

Support for strings translation and language detection.

This package has smell factor of **2**

## <a name="TWiki::_I18N::Extract"></a> [[TWiki::I18N::Extract|Main/TWikiI18NExtractDotPm]]

Support translatable strings extraction from TWiki topics and templates. Depends on Locale::Maketext::Extract (part of CPAN::Locale::Maketext::Lexicon).

This package has smell factor of **1**

## <a name="TWiki::If"></a> [[TWiki::If|Main/TWikiIfDotPm]]

Support for the conditions in %IF\{\} statements. Basically a simple stack-based parser for infix expressions that generates a parse tree that can subsequently be evaluated.

This package doesn't smell

## <a name="TWiki::Merge"></a> [[TWiki::Merge|Main/TWikiMergeDotPm]]

Support for merging strings

This package has smell factor of **1**

## <a name="TWiki::Meta"></a> [[TWiki::Meta|Main/TWikiMetaDotPm]]

Meta-data handling.

A meta-data object is a hash of different types of meta-data (keyed on the type, such as 'FIELD' and 'TOPICINFO').

Each entry in the hash is an array, where each entry in the array contains another hash of the key=value pairs, corresponding to a single meta-datum.

If there may be multiple entries of the same top-level type (i.e. for FIELD and FILEATTACHMENT) then the array hash multiple entries. These types are referred to as "keyed" types. The array entries are keyed with the attribute 'name' which must be in each entry in the array.

For unkeyed types, the array has only one entry.

The module knows nothing about how meta-data is stored. That is entirely the responsibility of the Store module.

Meta-data objects are created by the Store engine when topics are read. They are populated using the `put` method.

This package has smell factor of **3**

## <a name="TWiki::Net"></a> [[TWiki::Net|Main/TWikiNetDotPm]]

Object that brokers access to network resources.

This package has smell factor of **2**

## <a name="TWiki::_OopsException"></a> [[TWiki::OopsException|Main/TWikiOopsExceptionDotPm]]

Exception used to raise a request to redirect to an Oops URL. An [[OopsException]] thrown anywhere in the code will redirect the browser to a url based on the `oops` script. `oops` requires a `template` parameter, that is the name of a template file from the `templates` directory. This file will be expanded and the parameter values passed to the exception instantiated. The result will be shown in the browser.

This package doesn't smell

## <> \[[TWikiPluginDotPm]\[]]

This package has smell factor of **2**

## <a name="TWiki::Plugins"></a> [[TWiki::Plugins|Main/TWikiPluginsDotPm]]

This module defines the singleton object that handles Plugins loading, initialization and execution.

This class uses Chain of Responsibility (GOF) pattern to dispatch handler calls to registered plugins.

This package doesn't smell

## <a name="TWiki::Plurals"></a> [[TWiki::Plurals|Main/TWikiPluralsDotPm]]

Handle conversion of plural topic names to singular form.

This package has smell factor of **3**

## <a name="TWiki::Prefs"></a> [[TWiki::Prefs|Main/TWikiPrefsDotPm]]

The Prefs class is a singleton that implements management of preferences. It uses a stack of TWiki::Prefs::PrefsCache objects to store the preferences for global, web, user and topic contexts, and provides the means to look up preferences in these.

Preferences from different places stack on top of each other, so there are global preferences, then site, then web (and subweb and subsubweb), then topic, included topic and so on. Each level of the stack is tagged with a type identifier.

The module also maintains a separate of the preferences found in every topic and web it reads. This supports the lookup of preferences for webs and topics that are not on the stack, and must not be chained in (you can't allow a user to override protections from their home topic!)

This package doesn't smell

## <a name="TWiki::Prefs::Parser"></a> [[TWiki::Prefs::Parser|Main/TWikiPrefsParserDotPm]]

This Prefs-internal class is used to parse \* Set and \* Local statements from arbitrary text, and extract settings from meta objects. It is used by [[TopicPrefs]] to parse preference settings from topics.

This class does no validation or duplicate-checking on the settings; it simply returns the recognized settings in the order it sees them in.

This package has smell factor of **1**

## <a name="TWiki::Prefs::_PrefsCache"></a> [[TWiki::Prefs::PrefsCache|Main/TWikiPrefsPrefsCacheDotPm]]

The [[PrefsCache]] package holds a cache of topics that have been read in, using the [[TopicPrefs]] class. These functions manage that cache.

We maintain 2 hashes of values:

- \{locals\} Contains all locals at this level. Locals are values that only apply when the current topic is the topic where the local is defined. The variable names are decorated with the locality where they apply.
- \{values\} contains all sets, locals, and all values inherited from the parent level

As each cache level is built, the values are copied down from the parent cache level. This sounds monstrously inefficient, but in fact perl does this a lot better than doing a multi-level lookup when a value is referenced. This is especially important when many prefs lookups may be done in a session, for example when searching.

This package doesn't smell

## <a name="TWiki::Render"></a> [[TWiki::Render|Main/TWikiRenderDotPm]]

This module provides most of the actual HTML rendering code in TWiki.

This package has smell factor of **19**

## <a name="TWiki::Sandbox"></a> [[TWiki::Sandbox|Main/TWikiSandboxDotPm]]

This object provides an interface to the outside world. All calls to system functions, or handling of file names, should be brokered by this object.

This package has smell factor of **3**

## <a name="TWiki::Search"></a> [[TWiki::Search|Main/TWikiSearchDotPm]]

This module implements all the search functionality.

This package has smell factor of **20**

## <a name="TWiki::Store"></a> [[TWiki::Store|Main/TWikiStoreDotPm]]

This module hosts the generic storage backend. This module provides the interface layer between the "real" store provider - which is hidden behind a handler - and the rest of the system. it is responsible for checking for topic existance, access permissions, and all the other general admin tasks that are common to all store implementations.

This module knows nothing about how the data is actually _stored_ - that knowledge is entirely encapsulated in the handlers.

The general contract for methods in the class requires that errors are signalled using exceptions. TWiki::AccessControlException is used for access control exceptions, and Error::Simple for all other types of error.

This package has smell factor of **17**

## <a name="TWiki::Store::_RcsFile"></a> [[TWiki::Store::RcsFile|Main/TWikiStoreRcsFileDotPm]]

This class is PACKAGE PRIVATE to Store, and should never be used from anywhere else. Base class of implementations of stores that manipulate RCS format files.

The general contract of the methods on this class and its subclasses calls for errors to be signalled by Error::Simple exceptions.

Refer to Store.pm for models of usage.

This package has smell factor of **10**

## <a name="TWiki::Store::_RcsLite"></a> [[TWiki::Store::RcsLite|Main/TWikiStoreRcsLiteDotPm]]

This package does not publish any methods. It implements the virtual methods of the [[TWiki::Store::RcsFile|Main/TWikiStoreRcsFileDotPm]] superclass.

Simple replacement for RCS. Doesn't support:

- branches
- locking

Neither of which are used (or needed) by TWiki.

This module doesn't know anything about the content of the topic

There is one of these object for each file stored under RCSLite.

This object is PACKAGE PRIVATE to Store, and should NEVER be used from anywhere else.

FIXME:

- need to tidy up dealing with \\n for differences
- still have difficulty on line ending at end of sequences, consequence of doing a line based diff

## <a name="File format"></a> File format

    rcstext    ::=  admin {delta}* desc {deltatext}*
    admin      ::=  head {num};
                    { branch   {num}; }
                    access {id}*;
                    symbols {sym : num}*;
                    locks {id : num}*;  {strict  ;}
                    { comment  {string}; }
                    { expand   {string}; }
                    { newphrase }*
    delta      ::=  num
                    date num;
                    author id;
                    state {id};
                    branches {num}*;
                    next {num};
                    { newphrase }*
    desc       ::=  desc string
    deltatext  ::=  num
                    log string
                    { newphrase }*
                    text string
    num        ::=  {digit | .}+
    digit      ::=  0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9
    id         ::=  {num} idchar {idchar | num }*
    sym        ::=  {digit}* idchar {idchar | digit }*
    idchar     ::=  any visible graphic character except special
    special    ::=  $ | , | . | : | ; | @
    string     ::=  @{any character, with @ doubled}*@
    newphrase  ::=  id word* ;
    word       ::=  id | num | string | :

Identifiers are case sensitive. Keywords are in lower case only. The sets of keywords and identifiers can overlap. In most environments RCS uses the ISO 8859/1 encoding: visible graphic characters are codes 041-176 and 240-377, and white space characters are codes 010-015 and 040.

Dates, which appear after the date keyword, are of the form Y.mm.dd.hh.mm.ss, where Y is the year, mm the month (01-12), dd the day (01-31), hh the hour (00-23), mm the minute (00-59), and ss the second (00-60). Y contains just the last two digits of the year for years from 1900 through 1999, and all the digits of years thereafter. Dates use the Gregorian calendar; times use UTC.

The newphrase productions in the grammar are reserved for future extensions to the format of RCS files. No newphrase will begin with any keyword already in use.

Revisions consist of a sequence of 'a' and 'd' edits that need to be applied to rev N+1 to get rev N. Each edit has an offset (number of lines from start) and length (number of lines). For 'a', the edit is followed by length lines (the lines to be inserted in the text). For example:

d1 3 means "delete three lines starting with line 1 a4 2 means "insert two lines at line 4' xxxxxx is the new line 4 yyyyyy is the new line 5

This package has smell factor of **2**

## <a name="TWiki::Store::_RcsWrap"></a> [[TWiki::Store::RcsWrap|Main/TWikiStoreRcsWrapDotPm]]

This package does not publish any methods. It implements the virtual methods of the [[TWiki::Store::RcsFile|Main/TWikiStoreRcsFileDotPm]] superclass.

Wrapper around the RCS commands required by TWiki. There is one of these object for each file stored under RCS.

This package has smell factor of **2**

## <a name="TWiki::Templates"></a> [[TWiki::Templates|Main/TWikiTemplatesDotPm]]

Support for the TWiki template language.

This package has smell factor of **2**

## <a name="TWiki::Time"></a> [[TWiki::Time|Main/TWikiTimeDotPm]]

Time handling functions.

This package has smell factor of **7**

## <a name="TWiki::UI::_ChangeForm"></a> [[TWiki::UI::ChangeForm|Main/TWikiUIChangeFormDotPm]]

Service functions used by the UI packages

This package doesn't smell

## <a name="TWiki::UI"></a> [[TWiki::UI|Main/TWikiUIDotPm]]

Service functions used by the UI packages

This package doesn't smell

## <a name="TWiki::UI::Edit"></a> [[TWiki::UI::Edit|Main/TWikiUIEditDotPm]]

Edit command handler

This package has smell factor of **1**

## <a name="TWiki::UI::Manage"></a> [[TWiki::UI::Manage|Main/TWikiUIManageDotPm]]

UI functions for web, topic and user management

This package has smell factor of **5**

## <a name="TWiki::UI::Oops"></a> [[TWiki::UI::Oops|Main/TWikiUIOopsDotPm]]

UI delegate for oops function

This package doesn't smell

## <a name="TWiki::UI::RDiff"></a> [[TWiki::UI::RDiff|Main/TWikiUIRDiffDotPm]]

UI functions for diffing.

This package has smell factor of **12**

## <a name="TWiki::UI::Register"></a> [[TWiki::UI::Register|Main/TWikiUIRegisterDotPm]]

User registration handling.

This package has smell factor of **19**

## <a name="TWiki::UI::Save"></a> [[TWiki::UI::Save|Main/TWikiUISaveDotPm]]

UI delegate for save function

This package has smell factor of **1**

## <a name="TWiki::UI::Search"></a> [[TWiki::UI::Search|Main/TWikiUISearchDotPm]]

UI functions for searching.

This package has smell factor of **3**

## <a name="TWiki::UI::Statistics"></a> [[TWiki::UI::Statistics|Main/TWikiUIStatisticsDotPm]]

Statistics extraction and presentation

This package has smell factor of **4**

## <a name="TWiki::UI::Upload"></a> [[TWiki::UI::Upload|Main/TWikiUIUploadDotPm]]

UI delegate for attachment management functions

This package has smell factor of **3**

## <a name="TWiki::UI::View"></a> [[TWiki::UI::View|Main/TWikiUIViewDotPm]]

UI delegate for view function

This package has smell factor of **2**

## <a name="TWiki::User"></a> [[TWiki::User|Main/TWikiUserDotPm]]

A User object is an internal representation of a user in the real world. The object knows about users having login names, wiki names, personal topics, and email addresses.

This package has smell factor of **4**

## <a name="TWiki::Users::_ApacheHtpasswdUse"></a> [[TWiki::Users::ApacheHtpasswdUser|Main/TWikiUsersApacheHtpasswdUserDotPm]]

Password manager that uses Apache::HtPasswd to manage users and passwords.

Subclass of [[ TWiki::Users::Password |Main/TWikiUsersPasswordDotPm]]. See documentation of that class for descriptions of the methods of this class.

Duplicates functionality of [[ =TWiki::Users::HtPasswdUser=|Main/TWikiUsersHtPasswdUserDotPm]]; provided mainly as an example of how to write a new password manager.

This package doesn't smell

## <a name="TWiki::Users"></a> [[TWiki::Users|Main/TWikiUsersDotPm]]

Singleton object that handles mapping of users to wikinames and vice versa, and user authentication checking.

This package has smell factor of **2**

## <a name="TWiki::Users::Password"></a> [[TWiki::Users::Password|Main/TWikiUsersPasswordDotPm]]

Base class of all password handlers. Default behaviour is no passwords, so anyone can be anyone they like.

The methods of this class should be overridded by subclasses that want to implement other password handling methods.

This package has smell factor of **1**

## <a name="TWiki::Users::_TWikiUserMapping"></a> [[TWiki::Users::TWikiUserMapping|Main/TWikiUsersTWikiUserMappingDotPm]]

User mapping is the process by which TWiki maps from a username (a login name) to a wikiname and back. It is also where groups are maintained.

By default TWiki maintains user topics and group topics in the Main that define users and group. These topics are

- TWikiUsers - stores a mapping from usernames to TWiki names
- WikiName - for each user, stores info about the user
- GroupNameGroup - for each group, a topic ending with "Group" stores a list of users who are part of that group.

Many sites will want to override this behaviour, for example to get users and groups from a corporate database.

This class implements the basic TWiki behaviour using topics to store users, but is also designed to be subclassed so that other services can be used.

Subclasses should be named 'XxxxUserMapping' so that configure can find them.

**All** methods in this class should be implemented by subclasses.

This package has smell factor of **3**

There were a total of **199** smells
